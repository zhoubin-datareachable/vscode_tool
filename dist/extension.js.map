{"version":3,"file":"extension.js","mappings":"mHAAa,EAAAA,YAAc,CACzB,CACEC,MAAO,UACPC,IAAK,uBACLC,YAAa,QACbC,KAAM,iBAER,CACEH,MAAO,QACPC,IAAK,qCACLC,YAAa,QACbC,KAAM,kBAIG,EAAAC,KAAO,CAClB,CACEJ,MAAO,UACPC,IAAK,8BACLC,YAAa,MACbC,KAAM,iBAER,CACEH,MAAO,UACPC,IAAK,iCACLC,YAAa,UACbC,KAAM,iBAER,CACEH,MAAO,UACPC,IAAK,6DACLC,YAAa,UACbC,KAAM,iBAER,CACEH,MAAO,YACPC,IAAK,wDACLC,YAAa,YACbC,KAAM,iBAER,CACEH,MAAO,cACPC,IAAK,8DACLC,YAAa,cACbC,KAAM,iBAER,CACEH,MAAO,OACPC,IAAK,4BACLC,YAAa,OACbC,KAAM,iBAER,CACEH,MAAO,UACPC,IAAK,iCACLC,YAAa,UACbC,KAAM,iBAER,CACEH,MAAO,WACPC,IAAK,uEACLC,YAAa,WACbC,KAAM,iBAER,CACEH,MAAO,UACPC,IAAK,4BACLC,YAAa,UACbC,KAAM,iBAER,CACEH,MAAO,UACPC,IAAK,8CACLC,YAAa,UACbC,KAAM,iBAER,CACEH,MAAO,OACPC,IAAK,+BACLC,YAAa,OACbC,KAAM,iBAER,CACEH,MAAO,SACPC,IAAK,oDACLC,YAAa,SACbC,KAAM,iBAER,CACEH,MAAO,QACPC,IAAK,uCACLC,YAAa,QACbC,KAAM,iBAER,CACEH,MAAO,SACPC,IAAK,qCACLC,YAAa,SACbC,KAAM,iBAER,CACEH,MAAO,OACPC,IAAK,oBACLC,YAAa,OACbC,KAAM,iBAER,CACEH,MAAO,eACPC,IAAK,iCACLC,YAAa,eACbC,KAAM,mB,uFC9GV,eAUA,SAEA,uBAEEE,eACAC,YAAYC,GACV,OAAOA,EAGTC,YAAYD,GACV,MAAME,EAAmB,GAGnBC,EADgB,EAAAC,UAAUC,mBACwCC,IACtE,aACA,IAEIT,EAAc,GACpB,IAAK,IAAIU,EAAI,EAAGA,EAAIJ,EAAWK,OAAQD,IACrCV,EAAKY,KAAK,CACRhB,MAAOU,EAAWI,GAAGd,MACrBC,IAAKS,EAAWI,GAAGb,IACnBC,YAAaQ,EAAWI,GAAGd,MAC3BG,KAAM,kBAYV,OATAC,EAAKa,SAASV,IACZE,EAAKO,KACH,IAAIE,EAASX,EAAQP,MAAOO,EAAQJ,KAAMI,EAAQL,YAAa,CAC7DF,MAAO,GACPmB,QAAS,gBACTC,UAAW,CAACb,SAIXE,IAIX,MAAMS,UAAiB,EAAAG,SACrBhB,YAAYiB,EAAenB,EAAcoB,EAAiBJ,GACxDK,MAAMF,EAAO,EAAAG,yBAAyBC,MACtCC,KAAKJ,QAAUA,EACfI,KAAKC,SAAWC,EAAKC,KAAKC,WAAY,SAAU,YAAa5B,GAC7DwB,KAAKR,QAAUA,K,gFCtDnB,eASA,SACA,SAEA,iBAEEd,eACAC,YAAYC,GACV,OAAOA,EAGTC,YAAYD,GACV,MAAME,EAAmB,GAUzB,OATA,EAAAL,KAAKa,SAASV,IACZE,EAAKO,KACH,IAAIE,EAASX,EAAQP,MAAOO,EAAQJ,KAAMI,EAAQL,YAAa,CAC7DF,MAAO,GACPmB,QAAS,gBACTC,UAAW,CAACb,SAIXE,IAIX,MAAMS,UAAiB,EAAAG,SACrBhB,YAAYiB,EAAenB,EAAcoB,EAAiBJ,GACxDK,MAAMF,EAAO,EAAAG,yBAAyBC,MACtCC,KAAKJ,QAAUA,EACfI,KAAKC,SAAWC,EAAKC,KAAKC,WAAY,kBAAmB5B,GACzDwB,KAAKR,QAAUA,K,iFCvCnB,eASA,SACA,SAEA,iBAEEd,eACAC,YAAYC,GACV,OAAOA,EAGTC,YAAYD,GACV,MAAME,EAAmB,GAUzB,OATA,EAAAV,YAAYkB,SAASV,IACnBE,EAAKO,KACH,IAAIE,EAASX,EAAQP,MAAOO,EAAQJ,KAAMI,EAAQL,YAAa,CAC7DF,MAAO,GACPmB,QAAS,gBACTC,UAAW,CAACb,SAIXE,IAIX,MAAMS,UAAiB,EAAAG,SACrBhB,YAAYiB,EAAenB,EAAcoB,EAAiBJ,GACxDK,MAAMF,EAAO,EAAAG,yBAAyBC,MACtCC,KAAKJ,QAAUA,EACfI,KAAKC,SAAWC,EAAKC,KAAKC,WAAY,kBAAmB5B,GACzDwB,KAAKR,QAAUA,K,QCvCnBa,EAAOC,QAAUC,QAAQ,O,QCAzBF,EAAOC,QAAUC,QAAQ,S,QCAzBF,EAAOC,QAAUC,QAAQ,YCCrBC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,IAOV,OAHAO,EAAoBH,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,Q,uGCrBf,eACA,SACA,SAEA,SACA,QACA,SAgEA,IACIQ,EADAC,EAAa,GAGjB,MAAMC,EAAY,CAChBd,EACAe,EACAC,EACAC,GAAgB,KArEM,IAAUC,EAwEhCC,EAAGL,UACD,GAAGd,KAAQiB,EAAO,aAAe,sBAxEd,kDADWC,EA0EdH,qBApEJG,20BAqEZ,SAAUE,GACJA,EACFC,EAAOC,OAAOC,uBAAuB,QAGvCF,EAAOC,OAAOC,uBAAuB,WAKzCJ,EAAGL,UACD,GAAGd,cA9DkB,SAAUkB,EAAoBF,GAmCrD,MAlCsB,iDAIZE,oBACIA,+yBAWRF,s8BAeSA,0HA+BbQ,CAAiBT,EAAOC,IACxB,SAAUI,GACJA,EACFC,EAAOC,OAAOC,uBAAuB,QAGvCF,EAAOC,OAAOC,uBAAuB,YAM3C,oBAAyBE,GAEvBJ,EAAOC,OAAOI,yBAAyB,aAAc,IAAI,EAAAC,UACzDN,EAAOC,OAAOI,yBAAyB,OAAQ,IAAI,EAAAE,UACnDP,EAAOC,OAAOI,yBAAyB,aAAc,IAAI,EAAAG,gBAEzDR,EAAOS,SAASC,gBAAgB,iBAAkBC,KAuCpD,SACEA,EACAP,GAGKb,IACHA,EAAQS,EAAOC,OAAOW,mBACpB,UACA,GACAZ,EAAOa,WAAWC,IAClB,CACEC,kBAAkB,EAClBC,mBAAmB,EACnBC,eAAe,EACfC,yBAAyB,KAI/B3B,EAAM4B,cAAa,KACjB5B,EAAQ,KACRC,EAAa,MAEfD,EAAMzC,MAAQ6D,EAAO7D,OAAS,KAC9ByC,EAAMb,SAAWsB,EAAOoB,IAAIC,KAC1B1C,EAAKC,KACH0C,UACA,eACAX,EAAO1D,MAAQ,kBAIf0D,EAAO5D,MAAQyC,IACjBA,EAAamB,EAAO5D,IACpBwC,EAAMgC,QAAQC,KAOlB,SAA2BC,GACzB,MAAMC,EAAe/C,EAAKC,KAAKC,WAAY,kBARF,mBASzC8C,QAAQC,IAAIF,GAEZ,MAAMG,EAAUlD,EAAKmD,QAAQJ,GAC7B,IAAIF,EAAO,ylCAgEX,OAhBAA,EAAOA,EAAKO,QACV,wDACA,CAACC,EAAGC,EAAIC,IACFA,EAAGC,QAAQ,YAAc,EAEzBF,EACAjC,EAAOoB,IAAIC,KAAK1C,EAAKyD,QAAQP,EAASK,IACnCG,KAAK,CAAEC,OAAQ,oBACfC,WACH,IAGKN,EAAKC,EAAK,MAIhBV,EA5EgBgB,GACrBjD,EAAMgC,QAAQkB,YAAY,CAAExE,QAAS,OAAQ0C,OAAQA,KAGvDpB,EAAMmD,SA3EJC,CAAchC,MAIhBP,EAAQwC,cAAc9E,KACpBkC,EAAOS,SAASC,gBAAgB,4BAA6BmC,IAC3D,MAAMhF,EAASgF,EAAIlE,KAAKd,OAClBc,EAAOkE,EAAIlE,KAAKmE,MAAM,EAAGjF,GAAQkE,QAAQ,MAAO,MAChDgB,EAAYpE,EAAKqE,MAAM,MACvBrD,EAAgBoD,EAAUA,EAAUlF,OAAS,GAI7C6B,EADgBM,EAAOvC,UAAUC,mBACXC,IAAI,cAAe,SAG/C8B,EAAUd,EAAMe,EAAOC,OAK3BS,EAAQwC,cAAc9E,KACpBkC,EAAOS,SAASC,gBAAgB,kCAAmCmC,IACjE,MAAMhF,EAASgF,EAAIlE,KAAKd,OAClBc,EAAOkE,EAAIlE,KAAKmE,MAAM,EAAGjF,GAAQkE,QAAQ,MAAO,MAChDgB,EAAYpE,EAAKqE,MAAM,MACvBrD,EAAgBoD,EAAUA,EAAUlF,OAAS,GAI7C6B,EADgBM,EAAOvC,UAAUC,mBACXC,IAAI,cAAe,SAG/C8B,EAAUd,EAAMe,EAAOC,GAAe,QAqH5C,2B","sources":["webpack://react-tool/./src/json/index.ts","webpack://react-tool/./src/tree/collection.ts","webpack://react-tool/./src/tree/docs.ts","webpack://react-tool/./src/tree/tool.ts","webpack://react-tool/external \"fs\"","webpack://react-tool/external \"path\"","webpack://react-tool/external \"vscode\"","webpack://react-tool/webpack/bootstrap","webpack://react-tool/./src/extension.ts"],"sourcesContent":["export const commonTools = [\r\n  {\r\n    title: \"gitmoji\",\r\n    url: \"https://gitmoji.dev/\",\r\n    description: \"git表情\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"正则表达式\",\r\n    url: \"https://c.runoob.com/front-end/854\",\r\n    description: \"正则表达式\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n];\r\n\r\nexport const docs = [\r\n  {\r\n    title: \"ES6入门教程\",\r\n    url: \"https://es6.ruanyifeng.com/\",\r\n    description: \"es6\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vue 2.0\",\r\n    url: \"https://cn.vuejs.org/v2/guide/\",\r\n    description: \"vue 2.0\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vue 3.0\",\r\n    url: \"https://www.javascriptc.com/vue3js/guide/introduction.html\",\r\n    description: \"vue 3.0\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"react官方文档\",\r\n    url: \"https://react.docschina.org/docs/getting-started.html\",\r\n    description: \"react官方文档\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"type script\",\r\n    url: \"https://ts.xcatliu.com/introduction/what-is-typescript.html\",\r\n    description: \"type script\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"sass\",\r\n    url: \"https://www.sass.hk/docs/\",\r\n    description: \"sass\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"webpack\",\r\n    url: \"https://webpack.docschina.org/\",\r\n    description: \"webpack\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"three.js\",\r\n    url: \"http://www.webgl3d.cn/threejs/docs/#api/zh/animation/AnimationAction\",\r\n    description: \"three.js\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"uni-app\",\r\n    url: \"https://uniapp.dcloud.io/\",\r\n    description: \"uni-app\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"echarts\",\r\n    url: \"https://echarts.apache.org/zh/tutorial.html\",\r\n    description: \"echarts\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vite\",\r\n    url: \"https://cn.vitejs.dev/guide/\",\r\n    description: \"vite\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"eslint\",\r\n    url: \"https://cn.eslint.org/docs/user-guide/configuring\",\r\n    description: \"eslint\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"babel\",\r\n    url: \"https://babel.docschina.org/docs/en/\",\r\n    description: \"babel\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"docker\",\r\n    url: \"http://www.dockerinfo.net/document\",\r\n    description: \"docker\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"java\",\r\n    url: \"https://how2j.cn/\",\r\n    description: \"java\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"mybatis-plus\",\r\n    url: \"https://mp.baomidou.com/guide/\",\r\n    description: \"mybatis-plus\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n];\r\n//http://www.dockerinfo.net/document\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n  workspace,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\n\r\nexport class CollectionTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    // 获取用户名\r\n    const configuration = workspace.getConfiguration();\r\n    const collection: Array<{ title: string; url: string }> = configuration.get(\r\n      \"collection\",\r\n      []\r\n    );\r\n    const docs: any[] = [];\r\n    for (let i = 0; i < collection.length; i++) {\r\n      docs.push({\r\n        title: collection[i].title,\r\n        url: collection[i].url,\r\n        description: collection[i].title,\r\n        icon: \"icon_tool.svg\",\r\n      });\r\n    }\r\n    docs.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../\", \"resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\nimport { docs } from \"../json\";\r\n\r\nexport class DocsTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    docs.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\nimport { commonTools } from \"../json\";\r\n\r\nexport class ToolTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    commonTools.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from \"vscode\";\nimport * as fs from \"fs\";\nimport { ToolTree } from \"./tree/tool\";\nimport { Uri, WebviewPanel } from \"vscode\";\nimport * as path from \"path\";\nimport { DocsTree } from \"./tree/docs\";\nimport { CollectionTree } from \"./tree/collection\";\n\nconst getScssTemplate = function (authorName: string) {\n  const scssTemplate = `\n/**\n* @file \n* @date 2021-08-26\n* @author ${authorName} \n* @lastModify ${authorName}  2021-08-26\n*/\n/* <------------------------------------ **** CONSTANT IMPORT START **** ------------------------------------ */\n/** Import all the reference constant after this line */\n@import '~/Constant/breakPoint.scss';\n@import '~/Constant/font.scss';\n@import '~/Constant/color.scss';\n/* <------------------------------------ **** CONSTANT IMPORT END **** ------------------------------------ */\n/* <------------------------------------ **** SECTION1 MIXIN START **** ------------------------------------ */\n/** The demo mixin is ..........*/\n@mixin demo {}\n/* <------------------------------------ **** SECTION1 MIXIN END **** ------------------------------------ */\n/* <--------------------------- * SECTION1 * --------------------------- */\n/* <--------------------------- * SECTION1 * --------------------------- */\n`;\n  return scssTemplate;\n};\n\nconst getReactTemplate = function (authorName: string, componentName: string) {\n  const reactTemplate = `\n/**\n* @file\n* @date 2021-08-26\n* @author ${authorName}\n* @lastModify ${authorName} 2021-08-26\n*/\n/* <------------------------------------ **** DEPENDENCE IMPORT START **** ------------------------------------ */\n/** This section will include all the necessary dependence for this tsx file */\nimport React, { useState } from 'react';\nimport { Row, Col } from 'antd';\n/* <------------------------------------ **** DEPENDENCE IMPORT END **** ------------------------------------ */\n/* <------------------------------------ **** INTERFACE START **** ------------------------------------ */\n/** This section will include all the interface for this tsx file */\n/* <------------------------------------ **** INTERFACE END **** ------------------------------------ */\n/* <------------------------------------ **** FUNCTION COMPONENT START **** ------------------------------------ */\nconst ${componentName} = (): JSX.Element => {\n/* <------------------------------------ **** STATE START **** ------------------------------------ */\n/************* This section will include this component HOOK function *************/\n/* <------------------------------------ **** STATE END **** ------------------------------------ */\n/* <------------------------------------ **** PARAMETER START **** ------------------------------------ */\n/************* This section will include this component parameter *************/\n/* <------------------------------------ **** PARAMETER END **** ------------------------------------ */\n/* <------------------------------------ **** FUNCTION START **** ------------------------------------ */\n/************* This section will include this component general function *************/\n/* <------------------------------------ **** FUNCTION END **** ------------------------------------ */\nreturn (\n<Row>\n</Row>\n);\n};\nexport default ${componentName};\n/* <------------------------------------ **** FUNCTION COMPONENT END **** ------------------------------------ */\n`;\n  return reactTemplate;\n};\n\nlet currentSrc = \"\";\nlet panel: WebviewPanel | null;\n// 写入文件\nconst writeFile = (\n  path: string,\n  aName: string,\n  componentName: string,\n  type: boolean = true\n): void => {\n  // 写入style.scss\n  fs.writeFile(\n    `${path}/${type ? \"style.scss\" : \"style.module.scss\"}`,\n    getScssTemplate(aName),\n    function (err) {\n      if (err) {\n        vscode.window.showInformationMessage(\"创建失败\");\n        return;\n      }\n      vscode.window.showInformationMessage(\"创建成功\");\n    }\n  );\n\n  // 写入index.ts\n  fs.writeFile(\n    `${path}/index.tsx`,\n    getReactTemplate(aName, componentName),\n    function (err) {\n      if (err) {\n        vscode.window.showInformationMessage(\"创建失败\");\n        return;\n      }\n      vscode.window.showInformationMessage(\"创建成功\");\n    }\n  );\n};\n// this method is called when your extension is activated\n// your extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext) {\n  // 注册provider\n  vscode.window.registerTreeDataProvider(\"commonTool\", new ToolTree());\n  vscode.window.registerTreeDataProvider(\"docs\", new DocsTree());\n  vscode.window.registerTreeDataProvider(\"collection\", new CollectionTree());\n\n  vscode.commands.registerCommand(\"tool.openSite\", (params) => {\n    openInWebview(params, context);\n  });\n\n  // 创建普通组件\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\"react_tool.addComponents\", (uri) => {\n      const length = uri.path.length;\n      const path = uri.path.slice(1, length).replace(/\\//g, \"\\\\\");\n      const pathArray = path.split(\"\\\\\");\n      const componentName = pathArray[pathArray.length - 1];\n\n      // 获取用户名\n      const configuration = vscode.workspace.getConfiguration();\n      const aName = configuration.get(\"author_name\", \"admin\");\n\n      // 写入文件\n      writeFile(path, aName, componentName);\n    })\n  );\n\n  // 创建组件库组件\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\"react_tool.addModuleComponents\", (uri) => {\n      const length = uri.path.length;\n      const path = uri.path.slice(1, length).replace(/\\//g, \"\\\\\");\n      const pathArray = path.split(\"\\\\\");\n      const componentName = pathArray[pathArray.length - 1];\n\n      // 获取用户名\n      const configuration = vscode.workspace.getConfiguration();\n      const aName = configuration.get(\"author_name\", \"admin\");\n\n      // 写入文件\n      writeFile(path, aName, componentName, false);\n    })\n  );\n}\n\nfunction openInWebview(\n  params: { title: string; icon: any; url: string },\n  context: vscode.ExtensionContext\n) {\n  // 创建webview\n  if (!panel) {\n    panel = vscode.window.createWebviewPanel(\n      \"webview\", // viewType\n      \"\", // 视图标题\n      vscode.ViewColumn.One,\n      {\n        enableFindWidget: true,\n        enableCommandUris: true,\n        enableScripts: true, // 启用JS，默认禁用\n        retainContextWhenHidden: true, // webview被隐藏时保持状态，避免被重置\n      }\n    );\n  }\n  panel.onDidDispose(() => {\n    panel = null;\n    currentSrc = \"\";\n  });\n  panel.title = params.title || \"表情\";\n  panel.iconPath = vscode.Uri.file(\n    path.join(\n      __dirname,\n      \"../resources\",\n      params.icon || \"icon_\" + \"tool\" + \".svg\"\n    )\n  );\n\n  if (params.url !== currentSrc) {\n    currentSrc = params.url;\n    panel.webview.html = getWebViewContent(\"/view/\" + \"tool.html\");\n    panel.webview.postMessage({ command: \"load\", params: params });\n  }\n\n  panel.reveal();\n}\n\nfunction getWebViewContent(templatePath: string) {\n  const resourcePath = path.join(__filename, \"../../resources\", templatePath);\n  console.log(resourcePath);\n\n  const dirPath = path.dirname(resourcePath);\n  let html = `<html>\n  <head>\n    <style>\n      * {\n        box-sizing: border-box;\n      }\n      body,\n      html {\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 100%;\n        position: relative;\n      }\n    </style>\n    <script>\n      var params;\n\n      window.addEventListener(\"message\", (event) => {\n        const message = event.data;\n        if (message.command == \"load\") {\n          params = message.params;\n\n          document.getElementById(\"ifrDom\").onload = function () {\n            log(\"iframeOnLoaded\");\n          };\n          document.getElementById(\"ifrDom\").src = message.params.url;\n          document.getElementById(\"description\").innerText =\n            message.params.description;\n        }\n      });\n    </script>\n  </head>\n  <body>\n    <div\n      style=\"width: 100%; height: 100%; display: flex; flex-direction: column\"\n    >\n      <iframe\n        id=\"ifrDom\"\n        src=\"\"\n        width=\"100%\"\n        style=\"flex: 1; width: 100%\"\n        frameborder=\"no\"\n        border=\"0\"\n      ></iframe>\n    </div>\n  </body>\n</html>`;\n  html = html.replace(\n    /(<link.+?href=\"|<script.+?src=\"|<img.+?src=\")(.+?)\"/g,\n    (m, $1, $2) => {\n      if ($2.indexOf(\"https://\") < 0) {\n        return (\n          $1 +\n          vscode.Uri.file(path.resolve(dirPath, $2))\n            .with({ scheme: \"vscode-resource\" })\n            .toString() +\n          '\"'\n        );\n      } else {\n        return $1 + $2 + '\"';\n      }\n    }\n  );\n  return html;\n}\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n"],"names":["commonTools","title","url","description","icon","docs","constructor","getTreeItem","element","getChildren","data","collection","workspace","getConfiguration","get","i","length","push","forEach","DataItem","command","arguments","TreeItem","label","tooltip","super","TreeItemCollapsibleState","None","this","iconPath","path","join","__filename","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","panel","currentSrc","writeFile","aName","componentName","type","authorName","fs","err","vscode","window","showInformationMessage","getReactTemplate","context","registerTreeDataProvider","ToolTree","DocsTree","CollectionTree","commands","registerCommand","params","createWebviewPanel","ViewColumn","One","enableFindWidget","enableCommandUris","enableScripts","retainContextWhenHidden","onDidDispose","Uri","file","__dirname","webview","html","templatePath","resourcePath","console","log","dirPath","dirname","replace","m","$1","$2","indexOf","resolve","with","scheme","toString","getWebViewContent","postMessage","reveal","openInWebview","subscriptions","uri","slice","pathArray","split"],"sourceRoot":""}