{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://react-tool/./src/json/index.ts","webpack://react-tool/./src/tree/collection.ts","webpack://react-tool/./src/tree/docs.ts","webpack://react-tool/./src/tree/tool.ts","webpack://react-tool/external \"fs\"","webpack://react-tool/external \"path\"","webpack://react-tool/external \"vscode\"","webpack://react-tool/webpack/bootstrap","webpack://react-tool/./src/extension.ts"],"sourcesContent":["export const commonTools = [\r\n  {\r\n    title: \"gitmoji\",\r\n    url: \"https://gitmoji.dev/\",\r\n    description: \"git表情\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"正则表达式\",\r\n    url: \"https://c.runoob.com/front-end/854\",\r\n    description: \"正则表达式\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n];\r\n\r\nexport const docs = [\r\n  {\r\n    title: \"ES6入门教程\",\r\n    url: \"https://es6.ruanyifeng.com/\",\r\n    description: \"es6\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vue 2.0\",\r\n    url: \"https://cn.vuejs.org/v2/guide/\",\r\n    description: \"vue 2.0\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vue 3.0\",\r\n    url: \"https://www.javascriptc.com/vue3js/guide/introduction.html\",\r\n    description: \"vue 3.0\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"react官方文档\",\r\n    url: \"https://react.docschina.org/docs/getting-started.html\",\r\n    description: \"react官方文档\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"type script\",\r\n    url: \"https://ts.xcatliu.com/introduction/what-is-typescript.html\",\r\n    description: \"type script\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"sass\",\r\n    url: \"https://www.sass.hk/docs/\",\r\n    description: \"sass\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"webpack\",\r\n    url: \"https://webpack.docschina.org/\",\r\n    description: \"webpack\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"three.js\",\r\n    url: \"http://www.webgl3d.cn/threejs/docs/#api/zh/animation/AnimationAction\",\r\n    description: \"three.js\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"uni-app\",\r\n    url: \"https://uniapp.dcloud.io/\",\r\n    description: \"uni-app\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"echarts\",\r\n    url: \"https://echarts.apache.org/zh/tutorial.html\",\r\n    description: \"echarts\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"vite\",\r\n    url: \"https://cn.vitejs.dev/guide/\",\r\n    description: \"vite\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"eslint\",\r\n    url: \"https://cn.eslint.org/docs/user-guide/configuring\",\r\n    description: \"eslint\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"babel\",\r\n    url: \"https://babel.docschina.org/docs/en/\",\r\n    description: \"babel\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"docker\",\r\n    url: \"http://www.dockerinfo.net/document\",\r\n    description: \"docker\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"java\",\r\n    url: \"https://how2j.cn/\",\r\n    description: \"java\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n  {\r\n    title: \"mybatis-plus\",\r\n    url: \"https://mp.baomidou.com/guide/\",\r\n    description: \"mybatis-plus\",\r\n    icon: \"icon_tool.svg\",\r\n  },\r\n];\r\n//http://www.dockerinfo.net/document\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n  workspace,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\n\r\nexport class CollectionTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    // 获取用户名\r\n    const configuration = workspace.getConfiguration();\r\n    const collection: Array<{ title: string; url: string }> = configuration.get(\r\n      \"collection\",\r\n      []\r\n    );\r\n    const docs: any[] = [];\r\n    for (let i = 0; i < collection.length; i++) {\r\n      docs.push({\r\n        title: collection[i].title,\r\n        url: collection[i].url,\r\n        description: collection[i].title,\r\n        icon: \"icon_tool.svg\",\r\n      });\r\n    }\r\n    docs.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../\", \"resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\nimport { docs } from \"../json\";\r\n\r\nexport class DocsTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    docs.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","import {\r\n  TreeItem,\r\n  TreeDataProvider,\r\n  Event,\r\n  ProviderResult,\r\n  TreeItemCollapsibleState,\r\n  Command,\r\n} from \"vscode\";\r\n\r\nimport * as path from \"path\";\r\nimport { commonTools } from \"../json\";\r\n\r\nexport class ToolTree implements TreeDataProvider<DataItem> {\r\n  onDidChangeTreeData?: Event<DataItem | null | undefined> | undefined;\r\n  constructor() {}\r\n  getTreeItem(element: DataItem): TreeItem | Thenable<TreeItem> {\r\n    return element;\r\n  }\r\n\r\n  getChildren(element?: DataItem | undefined): ProviderResult<DataItem[]> {\r\n    const data: DataItem[] = [];\r\n    commonTools.forEach((element) => {\r\n      data.push(\r\n        new DataItem(element.title, element.icon, element.description, {\r\n          title: \"\",\r\n          command: \"tool.openSite\",\r\n          arguments: [element],\r\n        })\r\n      );\r\n    });\r\n    return data;\r\n  }\r\n}\r\n\r\nclass DataItem extends TreeItem {\r\n  constructor(label: string, icon: string, tooltip: string, command: Command) {\r\n    super(label, TreeItemCollapsibleState.None);\r\n    this.tooltip = tooltip;\r\n    this.iconPath = path.join(__filename, \"../../resources\", icon);\r\n    this.command = command;\r\n  }\r\n}\r\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from \"vscode\";\r\nimport * as fs from \"fs\";\r\nimport { ToolTree } from \"./tree/tool\";\r\nimport { Uri, WebviewPanel } from \"vscode\";\r\nimport * as path from \"path\";\r\nimport { DocsTree } from \"./tree/docs\";\r\nimport { CollectionTree } from \"./tree/collection\";\r\n\r\nconst getCurrentDate = function () {\r\n  const date = new Date();\r\n  const year = date.getFullYear();\r\n  const month =\r\n    date.getMonth() < 9 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`;\r\n  const day = date.getDate() <= 9 ? `0${date.getDate()}` : `${date.getDate()}`;\r\n\r\n  return `${year}-${month}-${day}`;\r\n};\r\n\r\nconst getScssTemplate = function (authorName: string) {\r\n  const scssTemplate = `\r\n/**\r\n* @file \r\n* @date ${getCurrentDate()}\r\n* @author ${authorName} \r\n* @lastModify ${authorName}  ${getCurrentDate()}\r\n*/\r\n/* <------------------------------------ **** CONSTANT IMPORT START **** ------------------------------------ */\r\n/** Import all the reference constant after this line */\r\n@import '~/Constant/breakPoint.scss';\r\n@import '~/Constant/font.scss';\r\n@import '~/Constant/color.scss';\r\n/* <------------------------------------ **** CONSTANT IMPORT END **** ------------------------------------ */\r\n/* <------------------------------------ **** SECTION1 MIXIN START **** ------------------------------------ */\r\n/** The demo mixin is ..........*/\r\n@mixin demo {}\r\n/* <------------------------------------ **** SECTION1 MIXIN END **** ------------------------------------ */\r\n/* <------------------------------------ **** ONE START **** ------------------------------------ */\r\n/* <------------------------------------ **** ONE END **** ------------------------------------ */\r\n`;\r\n  return scssTemplate;\r\n};\r\n\r\nconst getReactTemplate = function (authorName: string, componentName: string) {\r\n  const reactTemplate = `\r\n/**\r\n* @file\r\n* @date ${getCurrentDate()}\r\n* @author ${authorName}\r\n* @lastModify ${authorName} ${getCurrentDate()}\r\n*/\r\n/* <------------------------------------ **** DEPENDENCE IMPORT START **** ------------------------------------ */\r\n/** This section will include all the necessary dependence for this tsx file */\r\nimport React from 'react';\r\nimport style from './style.scss'\r\n/* <------------------------------------ **** DEPENDENCE IMPORT END **** ------------------------------------ */\r\n/* <------------------------------------ **** INTERFACE START **** ------------------------------------ */\r\n/** This section will include all the interface for this tsx file */\r\n/* <------------------------------------ **** INTERFACE END **** ------------------------------------ */\r\n/* <------------------------------------ **** FUNCTION COMPONENT START **** ------------------------------------ */\r\nconst ${componentName} = (): JSX.Element => {\r\n/* <------------------------------------ **** STATE START **** ------------------------------------ */\r\n/************* This section will include this component HOOK function *************/\r\n/* <------------------------------------ **** STATE END **** ------------------------------------ */\r\n/* <------------------------------------ **** PARAMETER START **** ------------------------------------ */\r\n/************* This section will include this component parameter *************/\r\n/* <------------------------------------ **** PARAMETER END **** ------------------------------------ */\r\n/* <------------------------------------ **** FUNCTION START **** ------------------------------------ */\r\n/************* This section will include this component general function *************/\r\n/* <------------------------------------ **** FUNCTION END **** ------------------------------------ */\r\nreturn (\r\n  <div className=\"${componentName.replace(/^\\S/, (s) =>\r\n    s.toLocaleLowerCase()\r\n  )}_container\"></div>\r\n);\r\n};\r\nexport default ${componentName};\r\n/* <------------------------------------ **** FUNCTION COMPONENT END **** ------------------------------------ */\r\n`;\r\n  return reactTemplate;\r\n};\r\n\r\nlet currentSrc = \"\";\r\nlet panel: WebviewPanel | null;\r\n// 写入文件\r\nconst writeFile = (\r\n  path: string,\r\n  aName: string,\r\n  componentName: string,\r\n  type: boolean = true\r\n): void => {\r\n  // 写入style.scss\r\n  fs.writeFile(\r\n    `${path}/${type ? \"style.scss\" : \"style.module.scss\"}`,\r\n    getScssTemplate(aName),\r\n    function (err) {\r\n      if (err) {\r\n        vscode.window.showInformationMessage(\"创建失败\");\r\n        return;\r\n      }\r\n      vscode.window.showInformationMessage(\"创建成功\");\r\n    }\r\n  );\r\n\r\n  // 写入index.ts\r\n  fs.writeFile(\r\n    `${path}/index.tsx`,\r\n    getReactTemplate(aName, componentName),\r\n    function (err) {\r\n      if (err) {\r\n        vscode.window.showInformationMessage(\"创建失败\");\r\n        return;\r\n      }\r\n      vscode.window.showInformationMessage(\"创建成功\");\r\n    }\r\n  );\r\n};\r\n// this method is called when your extension is activated\r\n// your extension is activated the very first time the command is executed\r\nexport function activate(context: vscode.ExtensionContext) {\r\n  // 注册provider\r\n  vscode.window.registerTreeDataProvider(\"commonTool\", new ToolTree());\r\n  vscode.window.registerTreeDataProvider(\"docs\", new DocsTree());\r\n  vscode.window.registerTreeDataProvider(\"collection\", new CollectionTree());\r\n\r\n  vscode.commands.registerCommand(\"tool.openSite\", (params) => {\r\n    openInWebview(params, context);\r\n  });\r\n\r\n  // 创建普通组件\r\n  context.subscriptions.push(\r\n    vscode.commands.registerCommand(\"react_tool.addComponents\", (uri) => {\r\n      const length = uri.path.length;\r\n      const path = uri.path.slice(1, length).replace(/\\//g, \"\\\\\");\r\n      const pathArray = path.split(\"\\\\\");\r\n      const componentName = pathArray[pathArray.length - 1];\r\n\r\n      // 获取用户名\r\n      const configuration = vscode.workspace.getConfiguration();\r\n      const aName = configuration.get(\"author_name\", \"admin\");\r\n\r\n      // 写入文件\r\n      writeFile(path, aName, componentName);\r\n    })\r\n  );\r\n\r\n  // 创建组件库组件\r\n  context.subscriptions.push(\r\n    vscode.commands.registerCommand(\"react_tool.addModuleComponents\", (uri) => {\r\n      const length = uri.path.length;\r\n      const path = uri.path.slice(1, length).replace(/\\//g, \"\\\\\");\r\n      const pathArray = path.split(\"\\\\\");\r\n      const componentName = pathArray[pathArray.length - 1];\r\n\r\n      // 获取用户名\r\n      const configuration = vscode.workspace.getConfiguration();\r\n      const aName = configuration.get(\"author_name\", \"admin\");\r\n\r\n      // 写入文件\r\n      writeFile(path, aName, componentName, false);\r\n    })\r\n  );\r\n}\r\n\r\nfunction openInWebview(\r\n  params: { title: string; icon: any; url: string },\r\n  context: vscode.ExtensionContext\r\n) {\r\n  // 创建webview\r\n  if (!panel) {\r\n    panel = vscode.window.createWebviewPanel(\r\n      \"webview\", // viewType\r\n      \"\", // 视图标题\r\n      vscode.ViewColumn.One,\r\n      {\r\n        enableFindWidget: true,\r\n        enableCommandUris: true,\r\n        enableScripts: true, // 启用JS，默认禁用\r\n        retainContextWhenHidden: true, // webview被隐藏时保持状态，避免被重置\r\n      }\r\n    );\r\n  }\r\n  panel.onDidDispose(() => {\r\n    panel = null;\r\n    currentSrc = \"\";\r\n  });\r\n  panel.title = params.title || \"表情\";\r\n  panel.iconPath = vscode.Uri.file(\r\n    path.join(\r\n      __dirname,\r\n      \"../resources\",\r\n      params.icon || \"icon_\" + \"tool\" + \".svg\"\r\n    )\r\n  );\r\n\r\n  if (params.url !== currentSrc) {\r\n    currentSrc = params.url;\r\n    panel.webview.html = getWebViewContent(\"/view/\" + \"tool.html\");\r\n    panel.webview.postMessage({ command: \"load\", params: params });\r\n  }\r\n\r\n  panel.reveal();\r\n}\r\n\r\nfunction getWebViewContent(templatePath: string) {\r\n  const resourcePath = path.join(__filename, \"../../resources\", templatePath);\r\n  console.log(resourcePath);\r\n\r\n  const dirPath = path.dirname(resourcePath);\r\n  let html = `<html>\r\n  <head>\r\n    <style>\r\n      * {\r\n        box-sizing: border-box;\r\n      }\r\n      body,\r\n      html {\r\n        margin: 0;\r\n        padding: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n      }\r\n    </style>\r\n    <script>\r\n      var params;\r\n\r\n      window.addEventListener(\"message\", (event) => {\r\n        const message = event.data;\r\n        if (message.command == \"load\") {\r\n          params = message.params;\r\n\r\n          document.getElementById(\"ifrDom\").onload = function () {\r\n            log(\"iframeOnLoaded\");\r\n          };\r\n          document.getElementById(\"ifrDom\").src = message.params.url;\r\n          document.getElementById(\"description\").innerText =\r\n            message.params.description;\r\n        }\r\n      });\r\n    </script>\r\n  </head>\r\n  <body>\r\n    <div\r\n      style=\"width: 100%; height: 100%; display: flex; flex-direction: column\"\r\n    >\r\n      <iframe\r\n        id=\"ifrDom\"\r\n        src=\"\"\r\n        width=\"100%\"\r\n        style=\"flex: 1; width: 100%\"\r\n        frameborder=\"no\"\r\n        border=\"0\"\r\n      ></iframe>\r\n    </div>\r\n  </body>\r\n</html>`;\r\n  html = html.replace(\r\n    /(<link.+?href=\"|<script.+?src=\"|<img.+?src=\")(.+?)\"/g,\r\n    (m, $1, $2) => {\r\n      if ($2.indexOf(\"https://\") < 0) {\r\n        return (\r\n          $1 +\r\n          vscode.Uri.file(path.resolve(dirPath, $2))\r\n            .with({ scheme: \"vscode-resource\" })\r\n            .toString() +\r\n          '\"'\r\n        );\r\n      } else {\r\n        return $1 + $2 + '\"';\r\n      }\r\n    }\r\n  );\r\n  return html;\r\n}\r\n// this method is called when your extension is deactivated\r\nexport function deactivate() {}\r\n"],"names":["commonTools","title","url","description","icon","docs","constructor","getTreeItem","element","getChildren","data","collection","workspace","getConfiguration","get","i","length","push","forEach","DataItem","command","arguments","TreeItem","label","tooltip","super","TreeItemCollapsibleState","None","this","iconPath","path","join","__filename","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getCurrentDate","date","Date","getFullYear","getMonth","getDate","panel","currentSrc","writeFile","aName","componentName","type","authorName","fs","err","vscode","window","showInformationMessage","replace","s","toLocaleLowerCase","getReactTemplate","context","registerTreeDataProvider","ToolTree","DocsTree","CollectionTree","commands","registerCommand","params","createWebviewPanel","ViewColumn","One","enableFindWidget","enableCommandUris","enableScripts","retainContextWhenHidden","onDidDispose","Uri","file","__dirname","webview","html","templatePath","resourcePath","console","log","dirPath","dirname","m","$1","$2","indexOf","resolve","with","scheme","toString","getWebViewContent","postMessage","reveal","openInWebview","subscriptions","uri","slice","pathArray","split"],"sourceRoot":""}